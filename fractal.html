<html>
	<head>
		<style>
		canvas {
    		border: 1px solid #d3d3d3;
    		background-color: #f1f1f1;
		}
		</style>
	</head>
	<body>
		<canvas id="myCanvas" width="500" height="500"></canvas>
		<script type="text/javascript">
			var canvas = document.getElementById('myCanvas');
			var context = canvas.getContext('2d');
			// 暂停函数
			function sleep(ms) {
  				return new Promise(resolve => setTimeout(resolve, ms));
			}
			// 画点函数
			function draw(pos, color){
				context.beginPath();
				context.arc(pos[0], pos[1], 3, 0, 2 * Math.PI, false);
				context.fillStyle = color;
				context.fill();
			}
			// 初始点，正三角形三顶点和一个随机点
			dots = [[10, 490], [490, 490], [250, 490 - 240 * Math.sqrt(3)], [Math.random() * 500, Math.random() * 500]];
			// 画初始点
			var i;
			for (i = 0; i < 4; i ++){
				draw(dots[i], 'black');
			}
			// 添加新点
			async function append_dot(){
				var j;
				var random_dot;
				for (j = 4; j < 1000; j ++){
					random_dot = dots[Math.floor(Math.random() * 3)]; // 随机取三顶点之一
					dots[j] = [(dots[j - 1][0] + random_dot[0]) / 2, (dots[j - 1][1] + random_dot[1]) / 2]; // 取上一个点与该顶点的中点，作为下一个点
					await sleep(100);
					draw(dots[j], 'black');
				}
			}
			append_dot();
		</script>
	</body>
</html>